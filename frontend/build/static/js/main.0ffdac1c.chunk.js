(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{134:function(e,n,t){},135:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(28),c=t.n(o),i=(t(66),t(4)),l=t(16),s=t(3),u=t(50),m=t.n(u),d=t(51),p=t.n(d),g=t(52),f=t.n(g),b=t(53),v=t.n(b),O=t(54),h=t.n(O),E=function(){var e="normal",n={normal:m.a,mad:p.a,laugh:f.a,sad:v.a,sleep:h.a};return n[e]||(e="normal"),r.a.createElement("div",{className:"game_container__animal"},r.a.createElement("img",{src:n[e],alt:"",className:"game_container__animal_image"}))},j=t(1),x=t(8),_=t.n(x),y=t(12),I=t(6),w=t(55),S=t.n(w)()({projectId:"qvonp967",dataset:"production",useCdn:!0}),N={currentDialoguePosition:0,currentDialogueName:"Start",currentDialogueID:null,dialogue:[{name:"Start",phrase:[{emotion:"normal",text:"",speaker:""}]}],responseBoxIsOpen:!1,dialogueFromSanity:"apples",isInventoryOpen:!1},D=Object(I.b)("NEXT_DIALOGUE"),k=Object(I.b)("PREV_DIALOGUE"),T=Object(I.b)("RESET_DIALOUGE_POSITION"),C=Object(I.b)("TOGGLE_RESPONSE_BOX"),G=Object(I.b)("TOGGLE_INVENTORY"),A=Object(I.b)("SWITCH_CONVERSATION"),R=Object(I.c)("GET_DIALOGUE",function(){var e=Object(y.a)(_.a.mark((function e(n){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.fetch('*[_type == "dialogue" && conversation._ref == "'.concat(n,'"]{\n        name, responseOptions, needEvidence, _id, isFinalDialogue, requiredEvidence->{name},\n  \t\t\t"phrase": phrase[]{\n  \t\t\t\temotion->{emotion}, speaker->{name}, text\t\n\t\t\t\t},\n\t\t\t\t"responseOptions": responseOptions[]{\n          text, \n\t\t\t\t\tfollowingDialogue->{_id}\n        }\n      }'));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;switch(t){case D.toString():return Object(j.a)(Object(j.a)({},e),{},{currentDialoguePosition:e.currentDialoguePosition+1});case k.toString():return Object(j.a)(Object(j.a)({},e),{},{currentDialoguePosition:e.currentDialoguePosition-1});case T.toString():return Object(j.a)(Object(j.a)({},e),{},{currentDialoguePosition:0});case"GET_DIALOGUE/fulfilled":return Object(j.a)(Object(j.a)({},e),{},{dialogue:a});case C.toString():return Object(j.a)(Object(j.a)({},e),{},{responseBoxIsOpen:!e.responseBoxIsOpen});case G.toString():return Object(j.a)(Object(j.a)({},e),{},{isInventoryOpen:!e.isInventoryOpen});case A.toString():return Object(j.a)(Object(j.a)({},e),{},{currentDialogueID:a,currentDialoguePosition:0,responseBoxIsOpen:!1});default:return e}},P={items:[{name:"Statue",img:"url.jpg",description:"Little bust of the thinking guy. \ud83e\udd14"}],notes:[{name:"Katt",img:"url.jpg",description:"QT"}]},B=Object(I.c)("GET_INVENTORY_ITEMS",Object(y.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.fetch('*[_type == "item"]{\n        name, description, \n        "imageUrl": image.asset->url\n \n}');case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))),U=Object(I.c)("GET_ANIMAL_NOTES",Object(y.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.fetch('*[_type == "animalNotes"]{\n        name, description, \n        "imageUrl": image.asset->url\n \n}');case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))),M=Object(I.b)("ADD_TO_INVENTORY");var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;switch(t){case"GET_INVENTORY_ITEMS/fulfilled":return Object(j.a)(Object(j.a)({},e),{},{items:a});case"GET_ANIMAL_NOTES/fulfilled":return Object(j.a)(Object(j.a)({},e),{},{notes:a});case M.toString():return Object(j.a)(Object(j.a)({},e),{},{payload:a});default:return e}},W=t(7),V=t(56);function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(n){return setTimeout(n,e)}))}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random();return Math.floor(t*(n-e)+e)}function F(e,n){return z.apply(this,arguments)}function z(){return(z=Object(y.a)(_.a.mark((function e(n,t){var a,r,o,c,i,l,s,u,m,d,p;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Drawing!"),'\n    <span class="show"></span><span class="hide" style="color: rgba(0,0,0,0);"></span>',n.innerHTML='\n    <span class="show"></span><span class="hide" style="color: rgba(0,0,0,0);"></span>',a=n.querySelector(".show"),r=n.querySelector(".hide"),console.log(a),o=t,c="",i=Object(V.a)(t),e.prev=9,i.s();case 11:if((l=i.n()).done){e.next=23;break}return s=l.value,c+=s,o=o.slice(1),a.textContent=c,r.textContent=o,u=n.dataset,m=u.typeMin,d=u.typeMax,p=Y(m,d),e.next=21,J(p);case 21:e.next=11;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(9),i.e(e.t0);case 28:return e.prev=28,i.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[9,25,28,31]])})))).apply(this,arguments)}var H=document.querySelector(".text_box__text");document.querySelectorAll("button").forEach((function(e){e.addEventListener("click",(function(){return F(H)}))}));var X=F,K=function(e,n){return e?n.find((function(n){return n._id===e})):n.find((function(e){return"Start"===e.name}))};var Q=Object(i.b)(null,(function(e){return Object(W.b)({nextDialogue:D,prevDialogue:k,toggleResponseBox:C,toggleInventory:G},e)}))((function(e){var n=Object(a.useRef)(null),t=Object(s.f)(),o=Object(i.d)((function(e){return e.dialogue})),c=o.dialogue,l=o.currentDialoguePosition,u=o.currentDialogueName,m=o.currentDialogueID,d=K(m,c),p=d&&d.phrase;d&&d.responseOptions;Object(a.useEffect)((function(){var e=n.current,t=p[l].speaker.name,a=p[l].text;X(e,"".concat(t,": ").concat(a))}),[c,l,u,m]);return r.a.createElement("div",{className:"text_box"},r.a.createElement("div",{className:"text_box__name"},"Gato"),r.a.createElement("div",{className:"text_box__main"},r.a.createElement("p",{className:"text_box__text",ref:n}),r.a.createElement("button",{className:"text_box__left_arrow",onClick:function(){0===l?console.log("stopping"):e.prevDialogue()}},"Back"),r.a.createElement("button",{className:"text_box__right_arrow",onClick:function(){var n=l===d.phrase.length-1;n&&d.needEvidence?e.toggleInventory():n&&d.isFinalDialogue?t.push("/"):n?e.toggleResponseBox():e.nextDialogue()}},"Next")))})),$=function(){return r.a.createElement("nav",null,r.a.createElement("a",{href:"#"},"Animal Crossing"),r.a.createElement("a",{href:"#"},"Jenn's Site"),r.a.createElement("a",{href:"#"},"Chris's Site"),r.a.createElement("a",{href:"#"},"Your Site"))},Z=t(22),ee=t(23);function ne(){var e=Object(Z.a)(["\n  width: 200px;\n  background-color: #fff;\n  border: 1px solid green;\n  position: absolute;\n  right: 1rem;\n  bottom: 170px;\n  z-index: 2;\n  border-radius: 20px;\n  padding: 1rem;\n\n  &.hide {\n    display: none;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  li {\n    padding: 0.3rem 0;\n  }\n"]);return ne=function(){return e},e}var te=ee.a.div(ne()),ae=function(){var e=Object(i.d)((function(e){return e.dialogue})),n=e.responseBoxIsOpen,t=e.currentDialogueName,a=e.dialogue,o=Object(i.c)();return r.a.createElement(te,{className:n?"":"hide"},r.a.createElement("ul",null,function(){var e=a.find((function(e){return e.name===t})).responseOptions;if(e)return console.log(e),e.map((function(e){return r.a.createElement("li",{onClick:function(){return n=e.followingDialogue._id,console.log(n),void o(A(n));var n}},e.text)}))}()))},re=t(24);function oe(){var e=Object(Z.a)(["\n  position: absolute;\n  width: calc(100% - 4rem);\n  height: 50%;\n  z-index: 6;\n  border: 1px solid black;\n  display: grid;\n  grid-gap: 1rem;\n  padding: 1rem;\n  grid-template-columns: 200px 1fr;\n  background-color: palegoldenrod;\n  border-radius: 5px;\n\n  img {\n    width: 200px;\n    height: 200px;\n  }\n\n  h4 {\n    margin: 0;\n    padding: 0;\n  }\n"]);return oe=function(){return e},e}function ce(){var e=Object(Z.a)(["\n  position: absolute;\n  width: calc(100% - 4rem);\n  height: 350px;\n  z-index: 6;\n  border: 1px solid black;\n  padding: 1rem;\n  background-color: palegoldenrod;\n  border-radius: 5px;\n\n  .inventory_header {\n    width: 100%;\n    border: 1px solid black;\n  }\n\n  .inventory_grid {\n    display: grid;\n    grid-template-rows: repeat(2, 1fr);\n    grid-template-columns: repeat(4, 1fr);\n    grid-gap: 1rem;\n    height: calc(100% - 2rem);\n    width: 100%;\n  }\n\n  div {\n    border: 1px solid black;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0.4rem 0;\n    background-color: #fff;\n  }\n\n  img {\n    width: 80px;\n    height: 80px;\n  }\n\n  span {\n    display: block;\n    flex: 1;\n  }\n"]);return ce=function(){return e},e}var ie=ee.a.div(ce()),le=[{name:"horse",image:"https://f4.bcbits.com/img/a3261223391_2.jpg",description:"What a noble steed."},{name:"john",image:"https://f4.bcbits.com/img/a3261223391_2.jpg",description:"What a noble steed."},{name:"The Prophecy",image:"https://f4.bcbits.com/img/a3261223391_2.jpg",description:"What a noble steed."}],se=[{name:"Brian",imageUrl:"https://f4.bcbits.com/img/a0905339103_16.jpg",description:"What a noble steed."},{name:"John",imageUrl:"https://f4.bcbits.com/img/a0905339103_16.jpg",description:"What a noble steed."},{name:"Lucy",imageUrl:"https://f4.bcbits.com/img/a0905339103_16.jpg",description:"What a noble steed."}],ue=ee.a.div(oe()),me=function(e){var n=e.selectedItem,t=e.inventory,a=e.setIsDetailsOpen,o=e.requiredEvidence,c=e.nextResponseID,l=t.find((function(e){return e.name===n})),s=Object(i.c)();function u(){a(!1)}return r.a.createElement(ue,null,r.a.createElement("img",{src:l.imageUrl,alt:""}),r.a.createElement("div",{className:"written_details"},r.a.createElement("h4",null,l.name),r.a.createElement("p",null,l.description),r.a.createElement("button",{onClick:function(){console.log(l),l.name===o?(s(A(c)),u(),s(G())):(console.log("Soooorrry, wrong one"),u())}},"Present"),r.a.createElement("button",{onClick:u},"Close")))},de=function(){var e=Object(a.useState)(!1),n=Object(re.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),l=Object(re.a)(c,2),s=l[0],u=l[1],m=Object(a.useState)(!1),d=Object(re.a)(m,2),p=d[0],g=d[1],f=Object(a.useState)(le),b=Object(re.a)(f,2),v=(b[0],b[1]),O=Object(i.d)((function(e){return e.dialogue})),h=O.currentDialogueID,E=O.dialogue,j=Object(i.d)((function(e){return e.inventory.items})),x=Object(i.d)((function(e){return e.inventory.notes})),_=K(h,E),y=_.requiredEvidence.name,I=_.responseOptions[0].followingDialogue._id;function w(e){var n=e.currentTarget.dataset.name;console.log(e.currentTarget.dataset.name),u(n),o(!0)}function S(){var e=JSON.parse(window.localStorage.getItem("itemsInInventory")).items;return console.log("fullItemsInventory",j),console.log("userItemsInventory",e),j.filter((function(n){return e.includes(n.name)}))}return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(me,{selectedItem:s,inventory:p?x:S(),setIsDetailsOpen:o,requiredEvidence:y,nextResponseID:I}):r.a.createElement(ie,null,r.a.createElement("div",{className:"inventory_header"},r.a.createElement("button",{onClick:function(){v(p?le:se),g(!p)}},p?"Items":"Animals")),r.a.createElement("div",{className:"inventory_grid"},function(){var e=(p?x:S()).map((function(e){return r.a.createElement("div",{key:e.name,"data-name":e.name,onClick:w},r.a.createElement("img",{src:e.imageUrl,alt:""}),r.a.createElement("span",null,e.name))}));return console.log(e),e}())))},pe=(t(134),function(e){var n=Object(i.c)(),t=Object(i.d)((function(e){return e.dialogue.isInventoryOpen}));return Object(a.useEffect)((function(){n(R(e.match.params.id)),n(T())}),[]),Object(a.useEffect)((function(){n(B()),n(U())}),[]),Object(a.useEffect)((function(){window.localStorage.setItem("itemsInInventory",JSON.stringify({items:["The Prophecy"],act:2}))}),[]),r.a.createElement("div",{className:"container"},r.a.createElement($,null),r.a.createElement("div",{className:"game_container"},r.a.createElement(E,null),t?r.a.createElement(de,null):"",r.a.createElement(ae,null),r.a.createElement(Q,null)))}),ge=t(60),fe={conversations:"none"},be=Object(I.c)("GET_CONVERSATIONS",Object(y.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.fetch('*[_type == "conversation"]{\n              name, _id\n      }');case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))));var ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;switch(t){case"GET_CONVERSATIONS/fulfilled":return Object(j.a)(Object(j.a)({},e),{},{conversations:a});default:return e}},Oe=function(){var e=Object(i.c)(),n=Object(i.d)((function(e){return e.conversations.conversations}));return n=Object(ge.a)(n),Object(a.useEffect)((function(){e(be())}),[]),r.a.createElement("div",null,r.a.createElement(l.b,{to:"/inventory"},"Inventory"),r.a.createElement(l.b,{to:"/testimony"},"Blank Testimony"),r.a.createElement("h1",null,"UGLY SELECT SCREEN \ud83e\udd9d\ud83c\udfdd"),r.a.createElement("ul",null,(console.log(n),n.map((function(e){return r.a.createElement("li",{key:e._id,id:e._id},r.a.createElement(l.b,{to:"/testimony/".concat(e._id)},e.name))})))))},he=Object(W.c)({dialogue:L,conversations:ve,inventory:q}),Ee=Object(I.a)({reducer:he});var je=function(){return r.a.createElement(i.a,{store:Ee},r.a.createElement(l.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/inventory"},r.a.createElement(de,null)),r.a.createElement(s.a,{path:"/testimony/:id",render:function(e){return r.a.createElement(pe,{match:e.match})}}),r.a.createElement(s.a,{path:"/"},r.a.createElement(Oe,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,n,t){e.exports=t.p+"static/media/normal.0eabf756.png"},51:function(e,n,t){e.exports=t.p+"static/media/mad.57935f54.png"},52:function(e,n,t){e.exports=t.p+"static/media/laugh.43943291.png"},53:function(e,n,t){e.exports=t.p+"static/media/sad.e0af5c11.png"},54:function(e,n,t){e.exports=t.p+"static/media/sleep.9e152b90.png"},61:function(e,n,t){e.exports=t(135)},66:function(e,n,t){}},[[61,1,2]]]);
//# sourceMappingURL=main.0ffdac1c.chunk.js.map